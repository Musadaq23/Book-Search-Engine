{"ast":null,"code":"// route to get logged in user's info (needs the token)\nexport const getMe = token => {\n  return fetch('/api/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      authorization: `Bearer ${token}`\n    }\n  });\n};\nexport const createUser = userData => {\n  console.log('createUser called with userData:', userData);\n  return fetch('/api/users', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(userData)\n  }).then(response => console.log(response));\n};\nexport const loginUser = userData => {\n  return fetch('/api/users/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(userData)\n  });\n};\n\n// save book data for a logged in user\nexport const saveBook = (bookData, token) => {\n  return fetch('/api/graphql', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      query: `\n        mutation {\n          saveBook(bookData: ${JSON.stringify(bookData)}) {\n            _id\n            username\n            email\n            savedBooks {\n              bookId\n              authors\n              title\n              description\n              image\n              link\n            }\n          }\n        }\n      `\n    })\n  });\n};\n\n// remove saved book data for a logged in user\nexport const deleteBook = (bookId, token) => {\n  return fetch(`/api/users/books/${bookId}`, {\n    method: 'DELETE',\n    headers: {\n      authorization: `Bearer ${token}`\n    }\n  });\n};\n\n// make a search to google books api\n// https://www.googleapis.com/books/v1/volumes?q=harry+potter\nexport const searchGoogleBooks = query => {\n  return fetch(`https://www.googleapis.com/books/v1/volumes?q=${query}`);\n};","map":{"version":3,"names":["getMe","token","fetch","headers","authorization","createUser","userData","console","log","method","body","JSON","stringify","then","response","loginUser","saveBook","bookData","query","deleteBook","bookId","searchGoogleBooks"],"sources":["C:/Users/musad/bootcamp/solid-broccoli/client/src/utils/API.js"],"sourcesContent":["// route to get logged in user's info (needs the token)\nexport const getMe = (token) => {\n  return fetch('/api/users/me', {\n    headers: {\n      'Content-Type': 'application/json',\n      authorization: `Bearer ${token}`,\n    },\n  });\n};\n\nexport const createUser = (userData) => {\n  console.log('createUser called with userData:', userData);\n  return fetch('/api/users', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(userData),\n  })\n  .then(response => console.log(response));\n};\n\nexport const loginUser = (userData) => {\n  return fetch('/api/users/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(userData),\n  });\n};\n\n// save book data for a logged in user\nexport const saveBook = (bookData, token) => {\n  return fetch('/api/graphql', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      query: `\n        mutation {\n          saveBook(bookData: ${JSON.stringify(bookData)}) {\n            _id\n            username\n            email\n            savedBooks {\n              bookId\n              authors\n              title\n              description\n              image\n              link\n            }\n          }\n        }\n      `\n    }),\n  });\n};\n\n// remove saved book data for a logged in user\nexport const deleteBook = (bookId, token) => {\n  return fetch(`/api/users/books/${bookId}`, {\n    method: 'DELETE',\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  });\n};\n\n// make a search to google books api\n// https://www.googleapis.com/books/v1/volumes?q=harry+potter\nexport const searchGoogleBooks = (query) => {\n  return fetch(`https://www.googleapis.com/books/v1/volumes?q=${query}`);\n};\n"],"mappings":"AAAA;AACA,OAAO,MAAMA,KAAK,GAAIC,KAAK,IAAK;EAC9B,OAAOC,KAAK,CAAC,eAAe,EAAE;IAC5BC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAG,UAASH,KAAM;IACjC;EACF,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMI,UAAU,GAAIC,QAAQ,IAAK;EACtCC,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAEF,QAAQ,CAAC;EACzD,OAAOJ,KAAK,CAAC,YAAY,EAAE;IACzBO,MAAM,EAAE,MAAM;IACdN,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,QAAQ;EAC/B,CAAC,CAAC,CACDO,IAAI,CAACC,QAAQ,IAAIP,OAAO,CAACC,GAAG,CAACM,QAAQ,CAAC,CAAC;AAC1C,CAAC;AAED,OAAO,MAAMC,SAAS,GAAIT,QAAQ,IAAK;EACrC,OAAOJ,KAAK,CAAC,kBAAkB,EAAE;IAC/BO,MAAM,EAAE,MAAM;IACdN,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACN,QAAQ;EAC/B,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,OAAO,MAAMU,QAAQ,GAAGA,CAACC,QAAQ,EAAEhB,KAAK,KAAK;EAC3C,OAAOC,KAAK,CAAC,cAAc,EAAE;IAC3BO,MAAM,EAAE,MAAM;IACdN,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAG,UAASH,KAAM;IACjC,CAAC;IACDS,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACnBM,KAAK,EAAG;AACd;AACA,+BAA+BP,IAAI,CAACC,SAAS,CAACK,QAAQ,CAAE;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACI,CAAC;EACH,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,OAAO,MAAME,UAAU,GAAGA,CAACC,MAAM,EAAEnB,KAAK,KAAK;EAC3C,OAAOC,KAAK,CAAE,oBAAmBkB,MAAO,EAAC,EAAE;IACzCX,MAAM,EAAE,QAAQ;IAChBN,OAAO,EAAE;MACPC,aAAa,EAAG,UAASH,KAAM;IACjC;EACF,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA,OAAO,MAAMoB,iBAAiB,GAAIH,KAAK,IAAK;EAC1C,OAAOhB,KAAK,CAAE,iDAAgDgB,KAAM,EAAC,CAAC;AACxE,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}